extends layout

block content
  .divider10
  h1.center.title Admin Dashboard
  .maincontainer.hpadded
    p(v-if="loading") Loading...
    button(@click="selectDirectory('paidMembers')") Click to view member directory
    button(@click="selectDirectory('unpaidMembers')") View unpaid members
    button(@click="initScanner") Initialize QR scanner
    .scanner
      p Tap camera feed to switch cameras
      p(v-if="scanError") Error: {{ scanError }}
      p(v-if="scanContent") Content: {{ scanContent }}
      video#scanner(@click="switchCameras")
    modal(title="Scanned" v-bind:show="scanContent !== null")
      p {{ scanContent }}
      button.hpadded(@click="markAsPaid") Make paying member
      button.hpadded(@click="markAsAttending") Mark attendance
      button.hpadded(@click="scanContent = null") Close
    table(v-if="currentDirectory != null")
      tr
        th First name 
        th Last name 
        th Email
      tr(v-for="member in currentDirectory")
        th {{ member.firstName }}
        th {{ member.lastName }}
        th {{ member.email }}
  .divider10
  .divider10

block scripts
  script(type="text/javascript" src="/javascripts/instascan.min.js")
  script(src="/javascripts/admin.js")
  
block styles
    //- link(rel='stylesheet', href='/stylesheets/calendar.css')
